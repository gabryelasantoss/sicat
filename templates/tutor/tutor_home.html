{% extends "base.html" %}

{% block title %}Tutor - Home{% endblock %}

{% block user %}
Tutor(a): Ana Clara Lima
{% endblock %}

{% block content %}

<!-- CARD + ILUSTRAÇÃO -->
<div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center mb-10">

    <div class="bg-white border-[3px] border-blue-900 rounded-[32px] p-8 text-center shadow-md w-full max-w-xl">

    <!-- Título com ícone -->
    <div class="flex items-center gap-2 text-gray-700 mb-6 test">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="22" height="22"
             viewBox="0 0 24 24"
             fill="none"
             stroke="#960176"
             stroke-width="2"
             stroke-linecap="round"
             stroke-linejoin="round">
            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
            <circle cx="12" cy="7" r="4"/>
        </svg>

        <span class="text-base font-medium">Tutorias</span>
    </div>

    <!-- Conteúdo -->
    <p class="text-lg text-blue-900 mb-4">Você registrou</p>

    <p class="text-6xl font-bold text-blue-600 mb-4">5</p>

    <p class="text-lg text-blue-900">
        atividades de tutorias este mês!
    </p>
</div>

    <img src="{{ url_for('static', filename='img/tutor.svg') }}" class="w-full max-w-md mx-auto">
</div>

<!-- SAUDAÇÃO -->
<h2 class="text-xl mb-6">
    Olá, <span class="purple font-semibold">Ana</span>
</h2>

<!-- BUSCA / FILTRO / BOTÃO -->
<div class="filtro-bar">

    <input type="text" placeholder="Pesquisar" 
           class="input-pesquisa">

    <select class="select-filtro">
        <option>Filtro</option>
    </select>

    <button class="btn-nova" onclick="abrirModal()">
        Nova atividade de tutoria +
    </button>
</div>

<!-- SOLICITAÇÕES -->
<section class="mb-8">
    <h3 class="font-semibold mb-4">Solicitações</h3>

    <div class="bg-gray-100 rounded-full px-4 py-3 flex items-center justify-between mb-2">

    <!-- Ícone + texto -->
    <div class="flex items-center gap-2 text-sm">
        <svg xmlns="http://www.w3.org/2000/svg"
             width="12" height="12"
             viewBox="0 0 12 12" fill="none">
            <circle cx="6" cy="6" r="6" fill="#1D5B00"/>
        </svg>

        <span>Gabryela solicitou uma tutoria para 01/02/2026</span>
    </div>

    <!-- Imagem -->
    <img src="{{ url_for('static', filename='img/eye.png') }}"
         alt="Detalhes"
         class="w-4 h-4 cursor-pointer">

</div>

</section>

<!-- COMUNICAÇÃO -->
<section>
    <h3 class="font-semibold mb-4">Comunicação</h3>

    <div class="bg-gray-100 rounded-full px-4 py-3 flex justify-between mb-2">
        <span><strong>ETEP</strong> — Envio de documentação</span>
        <img src="{{ url_for('static', filename='img/eye.png') }}"
         alt="Detalhes"
         class="w-4 h-4 cursor-pointer">
    </div>

    <div class="bg-gray-100 rounded-full px-4 py-3 flex justify-between">
        <span><strong>PROFESSOR(A)</strong> — Preciso de auxílio na próxima aula</span>
        <img src="{{ url_for('static', filename='img/eye.png') }}"
         alt="Detalhes"
         class="w-4 h-4 cursor-pointer">
    </div>
</section>

<!-- MODAL -->
<div id="modalTutoria" class="fixed inset-0 bg-black/40 hidden items-center justify-center z-50">

    <div class="bg-white w-full max-w-xl rounded-2xl border-2 border-pink-600 p-6 relative">

        <!-- Título -->
        <h2 class="text-lg font-semibold text-pink-700 mb-4">
            Registro de atividade de tutoria
        </h2>

        <!-- Botão fechar -->
        <button onclick="fecharModal()" class="absolute top-4 right-4 text-xl">
            ✕
        </button>

        <!-- Conteúdo -->
        <div class="bg-gray-100 rounded-xl p-4 space-y-3 text-sm">

            <div>
                <label class="font-medium">Para quem vai ser a atividade de tutoria?</label>
                <select 
                    id="tipoAtividade"
                    onchange="toggleMatricula()"
                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                    required
                >
                    <option value="">Selecione</option>
                    <option value="aluno">Aluno</option>
                    <option value="professor">Professor</option>
                </select>

                <!-- Nome do aluno -->
                <input 
                    id="nomeAluno"
                    type="text"
                    class="w-full mt-2 p-2 rounded-lg border hidden"
                    placeholder="Nome do aluno"
                >

                <!-- Nome do professor -->
                <input 
                    id="nomeProfessor"
                    type="text"
                    class="w-full mt-2 p-2 rounded-lg border hidden"
                    placeholder="Nome do professor"
                >
            </div>

            <div id="campoMatricula" class="mb-4 hidden">
                <label class="block text-sm font-medium mb-1">
                    Matrícula do aluno
                </label>
                <input 
                    type="text"
                    placeholder="Digite a matrícula"
                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                >
            </div>

            <div class="mb-4">
                <label class="block text-sm font-medium mb-1">
                    Data e horário
                </label>
                <input 
                    type="datetime-local"
                    class="w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500"
                    required
                >
            </div>

            <div>
                <label class="font-medium">Título:</label>
                <input type="text" class="w-full mt-1 p-2 rounded-lg border">
            </div>

            <div>
                <label class="font-medium">Assunto:</label>
                <input type="text" class="w-full mt-1 p-2 rounded-lg border">
            </div>

            <div>
                <label class="font-medium">Descrição:</label>
                <textarea class="w-full mt-1 p-2 rounded-lg border"></textarea>
            </div>

        </div>

        <!-- Botões -->
        <div class="flex justify-center gap-4 mt-6">
            <button class="btn-nova">
                Registrar
            </button>

            <button onclick="fecharModal()" class="bg-red-600 text-white px-6 py-2 rounded-lg">
                Cancelar
            </button>
        </div>

    </div>
</div>

<script>
function abrirModal() {
    document.getElementById("modalTutoria").classList.remove("hidden");
    document.getElementById("modalTutoria").classList.add("flex");
}

function fecharModal() {
    document.getElementById("modalTutoria").classList.add("hidden");
    document.getElementById("modalTutoria").classList.remove("flex");
}

function toggleMatricula() {
    const tipo = document.getElementById("tipoAtividade").value;

    const campoMatricula = document.getElementById("campoMatricula");
    const nomeAluno = document.getElementById("nomeAluno");
    const nomeProfessor = document.getElementById("nomeProfessor");

    campoMatricula.classList.add("hidden");
    nomeAluno.classList.add("hidden");
    nomeProfessor.classList.add("hidden");

    if (tipo === "aluno") {
        campoMatricula.classList.remove("hidden");
        nomeAluno.classList.remove("hidden");
    }

    if (tipo === "professor") {
        nomeProfessor.classList.remove("hidden");
    }
}
</script>


{% endblock %}
